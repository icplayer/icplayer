## Description
Blockly Code Editor allows generating JS code from blocks and programming Grid Scene by blocks.

##Warnings
* It is recommended to use only one Blockly Code Editor on a page.
* "variables editor" block must have a category and should always be put in a separate category.
##Variables
To add new variables, the toolbox must have the "variables editor" block. 

## Types
Data types used in Blockly Code Editor to pass values between blocks.

<table border='1'>
    <tr>
        <th>Type name</th>
        <th>Description</th>
    </tr>
	<tr>
		<td>Any</td>
		<td>Any type</td>
	</tr>
	<tr>
		<td>Boolean</td>
		<td>True or False</td>
	</tr>
	<tr>
		<td>Number</td>
		<td>Any number</td>
	</tr>
	<tr>
		<td>String</td>
		<td>Text</td>
	</tr>
	<tr>
		<td>Array</td>
		<td>Array</td>
	</tr>
</table>

Available block connection types.

<table border='1'>
    <tr>
        <th>Type name</th>
        <th>Description</th>
    </tr>
	<tr>
		<td>None</td>
		<td>Block without connection</td>
	</tr>
	<tr>
		<td>Left</td>
		<td>Block can be connected on the left side. Block code should return value.</td>
	</tr>
	<tr>
		<td>Top</td>
		<td>Block can be connected with other blocks from the top.</td>
	</tr>
	<tr>
		<td>Bottom</td>
		<td>Block can be connected with other blocks from the bottom.</td>
	</tr>
	<tr>
		<td>Top-Bottom</td>
		<td>Block can be connected with other blocks from top and bottom.</td>
	</tr>
</table>
## Properties

<table border='1'>
    <tr>
        <th>Property name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>Scene Id</td>
        <td>Scene Id to execute the code.</td>
    </tr>
	<tr>
        <td>Toolbox</td>
        <td>A list of blocks visible in the module. Add a custom block and set the block name to add the custom block defined in the Custom Blocks property.</br>
			<table border='1'>
				<tr>
					<th>Property name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>Name</td>
					<td>Block name</td>
				</tr>
				<tr>
					<td>Translation</td>
					<td>Translation of block labels in JSON.</td>
				</tr>		
				<tr>
					<td>Category</td>
					<td>Block category. If the property is empty, the block doesn't have a category. All or none of the blocks must have a category, blocks can't have mixed or no category. The block with the same category value will be in the same module in the menu category. </td>
				</tr>	
				<tr>
					<td>Is Disabled</td>
					<td>Disable block.</td>
				</tr>	
		</table>		
		</td>
    </tr>
    <tr>
        <td>Custom Blocks</td>
        <td>New blocks definitions list.</br>
			<table border='1'>
				<tr>
					<th>Property name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>Name</td>
					<td>Block name used in toolbox.</td>
				</tr>
				<tr>
					<td>Title</td>
					<td>Title displayed on block.</td>
				</tr>		
				<tr>
					<td>Color</td>
					<td>Block color in HUE notation. Value must be between 0 - 360.</td>
				</tr>	
				<tr>
					<td>Inputs</td>
					<td>Inputs name separated by a comma.</td>
				</tr>	
				<tr>
					<td>Inputs Types</td>
					<td>Inputs types separated by a comma without spaces. Missing types will be completed by Any type.</td>
				</tr>
				<tr>
					<td>Inputs Texts</td>
					<td>Text beside input. Text must be comma separated.</td>
				</tr>		
				<tr>
					<td>Code</td>
					<td>Code executed by the module. In code it is possible to use inputs by names declared in the Inputs property.</td>
				</tr>		
				<tr>
					<td>Connection</td>
					<td>Type of connection with other blocks.</td>
				</tr>		
				<tr>
					<td>Connection Types</td>
					<td>Connection types separated by a comma. Missing types will be completed by Any type.</td>
				</tr>					
		</table>		
		</td>
    </tr>
    <tr>
        <td>Block Limit</td>
        <td>Maximum number of blocks to add in a workspace. 0 or empty is equal to unlimited.</td>
    </tr>
	   <tr>
        <td>Hide Run</td>
        <td>Hide run button.</td>
    </tr>
</table>

## Supported commands

<table border='1'>
    <tr>
        <th>Command name</th>
        <th>Params</th> 
        <th>Description</th> 
    </tr>
	   <tr>
        <td>getWorkspaceCode</td>
        <td>---</td>
        <td>Get code generated by the module.</td>
    </tr>
    <tr>
        <td>show</td>
        <td>---</td>
        <td>Shows the addon.</td>
    </tr>
    <tr>
        <td>hide</td>
        <td>---</td>
        <td>Hides the addon.</td>
    </tr>
</table>

##Default blocks available in the addon

<table border='1'>
    <tr>
        <th>Block name</th>
        <th>Description</th> 
    </tr>
	<tr>
        <td>RGB color</td>
        <td>Creating RGB color from three numbers.</td>
    </tr>
	<tr>
        <td>append text</td>
        <td>Append text to variable.</td>
    </tr>
	<tr>
        <td>arithmetic</td>
        <td>Simply arithmetic functions: add, divide, minus, multiply, power</td>
    </tr>
	<tr>
        <td>basic functions</td>
        <td>Basic mathematics functions: absolute, root, abs, exp, ln, log10, neg, pow10, root </td>
    </tr>
	<tr>
        <td>blend color</td>
        <td>Blends two colours together with a given ratio.</td>
    </tr>
	<tr>
        <td>boolean</td>
        <td>Returns either true or false.</td>
    </tr>
	<tr>
        <td>break</td>
        <td>Changes loop flow. Available options: break, continue.</td>
    </tr>
	<tr>
        <td>change variable</td>
        <td>Adds a number to variable.</td>
    </tr>
	<tr>
        <td>char at</td>
        <td>Returns char: n from start, f from end, last, first, random. </td>
    </tr>
	<tr>
        <td>color picker</td>
        <td>Chooses a colour from the palette.</td>
    </tr>
	<tr>
        <td>compare</td>
        <td>Compares two values.</td>
    </tr>
	<tr>
        <td>constants</td>
        <td>Returns one of the common constants.</td>
    </tr>
	<tr>
        <td>constrain</td>
        <td>Constrains a number to be between the specified limits (inclusive).</td>
    </tr>
	<tr>
        <td>create list from</td>
        <td>Makes list from: text, list.</td>
    </tr>
	<tr>
        <td>create list with item</td>
        <td>Creates list with any item repeated n times.</td>
    </tr>
	<tr>
        <td>create list</td>
        <td>Creates an empty list.</td>
    </tr>
	<tr>
        <td>for each</td>
        <td>For each item in a list, you can set the variable to the item, and then do some statements.</td>
    </tr>
	<tr>
        <td>for</td>
        <td>Have the start variable take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.</td>
    </tr>
	<tr>
        <td>get list element</td>
        <td>Get (or get and remove): first, n from end, n from start, last, random element from list, or remove element in list.</td>
    </tr>
	<tr>
        <td>get sublist</td>
        <td>Get n elements from end, n elements from start from list.</td>
    </tr>
	<tr>
        <td>get variable</td>
        <td>Returns the value of this variable.</td>
    </tr>
	<tr>
        <td>if</td>
        <td>If control statement.</td>
    </tr>	
	<tr>
        <td>is empty list</td>
        <td>Returns true if the list is empty.</td>
    </tr>
	<tr>
        <td>is empty text</td>
        <td>Returns true if the provided text is empty.</td>
    </tr>
	<tr>
        <td>join text</td>
        <td>Creates a piece of text by joining together any number of items.</td>
    </tr>
	<tr>
        <td>list index of</td>
        <td>Returns the index of the first/last occurrence of the item in the list. Returns 0 if the item is not found.</td>
    </tr>
	<tr>
        <td>list length</td>
        <td>Returns the length of a list.</td>
    </tr>
	<tr>
        <td>logic operation</td>
        <td>Simple logic operation: and, or.</td>
    </tr>
	<tr>
        <td>logic ternary</td>
        <td>Checks the condition in test. If the condition is true, returns the if true value; otherwise returns the if false value.</td>
    </tr>
	<tr>
        <td>math list functions</td>
        <td>Simple functions on lists. Available functions: avarange, max, median, min, mode, random, sum, standard deviation.</td>
    </tr>
	<tr>
        <td>modulo</td>
        <td>Returns the remainder from dividing the two numbers.</td>
    </tr>
	<tr>
        <td>negate</td>
        <td>Returns true if the input is false. Returns false if the input is true.</td>
    </tr>
	<tr>
        <td>null</td>
        <td>Returns null.</td>
    </tr>
	<tr>
        <td>number property</td>
        <td>Checks whether the number is negative, positive, prime, divisible by, even.</td>
    </tr>	
	<tr>
        <td>number</td>
        <td>A number.</td>
    </tr>
	<tr>
        <td>print</td>
        <td>Print the specified text, number or other value.</td>
    </tr>
	<tr>
        <td>prompt for</td>
        <td>Prompt for a user.</td>
    </tr>
	<tr>
        <td>random color</td>
        <td>Returns a random color.</td>
    </tr>
	<tr>
        <td>random fraction</td>
        <td>Returns a random fraction between 0.0 (inclusive) and 1.0 (exclusive).</td>
    </tr>
	<tr>
        <td>random integer</td>
        <td>Returns a random integer between the two specified limits, inclusive.</td>
    </tr>
	<tr>
        <td>repeat while/until</td>
        <td>Repeats while and until the loop.</td>
    </tr>
	<tr>
        <td>repeat</td>
        <td>Allows doing some statements several times.</td>
    </tr>
	<tr>
        <td>round</td>
        <td>Rounds a number up or down.</td>
    </tr>
	<tr>
        <td>set list element</td>
        <td>Sets an element in a list.</td>
    </tr>
	<tr>
        <td>set variable</td>
        <td>Sets variable to be equal to the input.</td>
    </tr>
	<tr>
        <td>sort list</td>
        <td>Sorts a copy of a list: ascending or descending.</td>
    </tr>
	<tr>
        <td>substring</td>
        <td>Returns a specified portion of the text.</td>
    </tr>
	<tr>
        <td>text index of</td>
        <td>Returns the index of the first/last occurrence of the first text in the second text. Returns 0 if the text is not found.</td>
    </tr>
	<tr>
        <td>text length</td>
        <td>Returns text size.</td>
    </tr>
	<tr>
        <td>text</td>
        <td>Returns constant text.</td>
    </tr>
	<tr>
        <td>to upper/lower case</td>
        <td>Changes text to an upper or lower case.</td>
    </tr>
	<tr>
        <td>trigonometry</td>
        <td>Basic trigonomerty functions.</td>
    </tr>
	<tr>
        <td>trim</td>
        <td>Removes white spaces from the text start and the text end.</td>
    </tr>
	<tr>
        <td>grid scene commands</td>
        <td>Get commands from the grid scene. If the scene id is not valid, grid scene commands will be empty.</td>
    </tr>
	<tr>
        <td>variables editor</td>
        <td>Creates a category where you can add new variables. Always must have a category name in a separate category.</td>
    </tr>
	<tr>
        <td>custom</td>
        <td>Custom block created in Custom Blocks property.</td>
    </tr>
</table>

## CSS classes

<table border='1'>
    <tr>
        <th>Class name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>blockly-code-editor-editor</td>
        <td>DIV element surrounding blockly editor.</td>
    </tr>
    <tr>
        <td>blockly-code-editor-run</td>
        <td>Button run class.</td>
    </tr>
</table>
		
## Demo presentation

[Demo presentation](/embed/4674351599976448 "Demo presentation") contains examples showing how this addon can be used.                        